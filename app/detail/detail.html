<!-- <ul>
  <li ng-repeat="message in messages">
    {{ message.text }}
  </li>
</ul> -->
<div class="chat-detail">
  <div ng-if="messages" class="message-detail-container content-container">
    <ul class="messages">
      <li class="message-container" ng-repeat="msg in messages track by $index" 
          ng-class="{'self': msg.sender_id==userId, 'last right': msg.sender_id==userId && msg.last, 'last left': msg.last && msg.sender_id != userId }">
          <div class="message">
            <div class="sender" ng-if="msg.sender_id!==userId && participants.length > 1">{{ msg.sender_id }}</div>
            <div class="text" ng-bind-html="msg.text"></div>
          </div>
      </li>
    </ul>
  </div>
</div>